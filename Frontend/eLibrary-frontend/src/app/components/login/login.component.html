<head>
    <title>Login</title>
</head>
<body>
    <div class="background">
        <div class="shape"></div>
        <div class="shape"></div>
    </div>
    <form (ngSubmit)="submitForm()" [formGroup]="form" autocomplete="off"> 
        <h3>Login</h3>

        <label for="email">Email</label>
        <input matInput matNativeControl type="text" placeholder="Email" id="email" formControlName="email" name = "email">
        <div class="error-message">
            <mat-error *ngIf="form.get('email').hasError('email')  && !form.get('email').hasError('required')">
            Please enter a valid email address
          </mat-error>
        </div>
        <div class="error-message">
            <mat-error *ngIf="form.get('email').hasError('required')" type="text" class="error-message">
                Email is <strong>required</strong>
              </mat-error>
        </div>


        <label for="password">Password</label>
        <div class="password-input">
            <input matInput matNativeControl [type]="hide ? 'password' : 'text'" formControlName="password" placeholder="Password" id="password">
            <button mat-icon-button matSuffix (click)="onTogglePasswordVisibility($event)" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
        </div>
        <div class="error-message">
        <mat-error *ngIf="form.get('password').hasError('required') && !loginError" type="text" class="error-message">
            Password is <strong>required</strong>
          </mat-error>
        </div>
        <div *ngIf="loginError" class="error-message">
            Invalid email or password.
        </div>
        <button class="main-button">Log In</button>
        <a type="submit" routerLink="../signup" routerLinkActive="active" class="nav-link">Not registered? Sign up</a>
    </form>
</body>
